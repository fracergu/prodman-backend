Table Users {
  id int [pk, increment]
  email varchar [unique, not null]
  name varchar [not null]
  last_name varchar
  password varchar [not null]
  role varchar [not null]
}

Table Products {
  id int [pk, increment]
  name varchar [not null]
  description text
  price decimal [not null]
  image varchar
  created_at datetime [not null]
  updated_at datetime [not null]
}

Table Categories {
  id int [pk, increment]
  name varchar [not null]
  description text
}

Table ProductCategories {
  id int [pk, increment]
  product int [ref: > Products.id]
  category int [ref: > Categories.id]
}

Table StockMovements {
  id int [pk, increment]
  product int [ref: > Products.id]
  quantity int [not null]
  date datetime [not null]
  user int [ref: > Users.id]
}

Table Tasks {
  id int [pk, increment]
  worker int [ref: > Users.id]
  created_at datetime [not null]
  notes text
}

Table SubTasks {
  id int [pk, increment]
  task int [ref: > Tasks.id]
  product int [ref: > Products.id]
  quantity int [not null]
  status varchar [not null]
  notes text
}

Table SubTaskEvents {
  id int [pk, increment]
  subtask int [ref: > SubTasks.id]
  date datetime [not null]
  quantity_completed int [not null]
}

Table Logs {
  id int [pk, increment]
  table_name varchar [not null]
  row_id int [not null]
  action varchar [not null]
  date datetime [not null] 
  user int [ref: > Users.id]
}

Table session {
  sid varchar [pk]
  sess json [not null]
  expire datetime
}
